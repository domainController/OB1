const p="modulepreload",g=function(d,e){return new URL(d,e).href},m={},y=function(e,o,a){let h=Promise.resolve();if(o&&o.length>0){const i=document.getElementsByTagName("link"),t=document.querySelector("meta[property=csp-nonce]"),f=t?.nonce||t?.getAttribute("nonce");h=Promise.allSettled(o.map(n=>{if(n=g(n,a),n in m)return;m[n]=!0;const r=n.endsWith(".css"),w=r?'[rel="stylesheet"]':"";if(!!a)for(let l=i.length-1;l>=0;l--){const c=i[l];if(c.href===n&&(!r||c.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${n}"]${w}`))return;const s=document.createElement("link");if(s.rel=r?"stylesheet":p,r||(s.as="script"),s.crossOrigin="",s.href=n,f&&s.setAttribute("nonce",f),document.head.appendChild(s),r)return new Promise((l,c)=>{s.addEventListener("load",l),s.addEventListener("error",()=>c(new Error(`Unable to preload CSS for ${n}`)))})}))}function u(i){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=i,window.dispatchEvent(t),!t.defaultPrevented)throw i}return h.then(i=>{for(const t of i||[])t.status==="rejected"&&u(t.reason);return e().catch(u)})};class k extends HTMLElement{closeBtn;dialog;dialogFrame;openBtn;closeModal=()=>{this.dialog.open&&(this.dialog.close(),document.body.classList.remove("overflow-hidden"),window.removeEventListener("click",this.onWindowClick))};onWindowClick=e=>{("href"in(e.target||{})||document.body.contains(e.target)&&!this.dialogFrame.contains(e.target))&&this.closeModal()};onWindowKeydown=e=>{e.key==="/"&&!this.dialog.open&&(this.openModal(),e.preventDefault())};openModal=e=>{this.dialog.showModal(),document.body.classList.add("overflow-hidden"),this.querySelector("input")?.focus(),e?.stopPropagation(),window.addEventListener("click",this.onWindowClick)};constructor(){super(),this.openBtn=this.querySelector("button[data-open-modal]"),this.closeBtn=this.querySelector("button[data-close-modal]"),this.dialog=this.querySelector("dialog"),this.dialogFrame=this.querySelector(".dialog-frame"),this.openBtn.addEventListener("click",this.openModal),this.openBtn.disabled=!1,this.closeBtn.addEventListener("click",this.closeModal)}connectedCallback(){window.addEventListener("keydown",this.onWindowKeydown),(window.requestIdleCallback||(o=>setTimeout(o,1)))(async()=>{const{PagefindUI:o}=await y(async()=>{const{PagefindUI:a}=await import("./ui-core.Bi7O71lI.js");return{PagefindUI:a}},[],import.meta.url);new o({baseUrl:"/",bundlePath:"/".replace(/\/$/,"")+"/pagefind/",element:"#citrus__search",showImages:!1,showSubResults:!0})})}disconnectedCallback(){window.removeEventListener("keydown",this.onWindowKeydown)}}customElements.define("site-search",k);export{y as _};
//# sourceMappingURL=Search.astro_astro_type_script_index_0_lang.OI3T2hpD.js.map
